<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default_layout}">

  <!-- 페이지별 <head> 확장 (필요 시) -->
  <th:block layout:fragment="head">
    <title>SEMO - 로그인</title>
  </th:block>

  <!-- 페이지 전용 CSS -->
  <th:block layout:fragment="extra-css">
    <link rel="stylesheet" th:href="@{/css/login.css}">
  </th:block>

  <!-- 본문 콘텐츠 -->
  <th:block layout:fragment="content">
    <div class="login-wrapper">
      <div class="login-container">
        <!-- LEFT: LOGIN FORM -->
        <section class="login-form-section">
          <h1 class="login-title">환영합니다!</h1>
          <p class="login-subtitle">SEMO와 함께 안전한 창고 관리를 시작하세요</p>

          <!-- 회원 유형 선택 (디자인용) -->
          <div class="user-type-selector">
            <button type="button" class="user-type-btn active" data-type="tenant">
              <span class="user-type-icon">📦</span>
              <span>임차인</span>
            </button>
            <button type="button" class="user-type-btn" data-type="landlord">
              <span class="user-type-icon">🏢</span>
              <span>임대인</span>
            </button>
          </div>

          <!-- 로그인 에러/로그아웃 메시지 (Spring Security 기본 파라미터) -->
          <div class="login-alert error" th:if="${param.error}">
            아이디 또는 비밀번호가 올바르지 않습니다.
          </div>
          <div class="login-alert success" th:if="${param.logout}">
            로그아웃되었습니다.
          </div>

          <!-- 로그인 폼 -->
          <form id="loginForm" th:action="@{/login}" method="post" autocomplete="on">
            <!-- Spring Security CSRF -->
            <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}"/>

            <div class="form-group">
              <label class="form-label" for="email">이메일</label>
              <input id="email" name="username" type="email" class="form-input"
                     placeholder="example@semo.com" required>
            </div>

            <div class="form-group">
              <label class="form-label" for="password">비밀번호</label>
              <input id="password" name="password" type="password" class="form-input"
                     placeholder="비밀번호를 입력하세요" required>
            </div>

            <div class="form-options">
              <div class="remember-me">
                <input type="checkbox" id="remember-me" name="remember-me">
                <label for="remember-me">로그인 상태 유지</label>
              </div>
              <a class="forgot-link" th:href="@{/find-password}">비밀번호 찾기</a>
            </div>

            <button type="submit" class="login-button">로그인</button>
          </form>

          <!-- 간편 로그인 -->
          <div class="divider"><span>간편 로그인</span></div>
          <div class="social-login-buttons">
            <a class="social-btn kakao" th:href="@{/oauth2/authorization/kakao}">
              <span class="social-icon">💬</span><span>카카오</span>
            </a>
            <a class="social-btn google" th:href="@{/oauth2/authorization/google}">
              <span class="social-icon">G</span><span>구글</span>
            </a>
            <a class="social-btn naver" th:href="@{/oauth2/authorization/naver}">
              <span class="social-icon">N</span><span>네이버</span>
            </a>
          </div>

          <div class="signup-link">
            아직 회원이 아니신가요?
            <a th:href="@{/signup}">회원가입</a>
          </div>
        </section>

        <!-- RIGHT: INFO SECTION -->
        <aside class="info-section">
          <div class="info-content">
            <div class="info-icon">🔐</div>
            <h2 class="info-title">안전한 창고 관리의 시작</h2>
            <p class="info-description">
              SEMO는 최첨단 보안 시스템과 스마트한 관리 도구로<br>
              여러분의 소중한 물품을 안전하게 보호합니다
            </p>

            <div class="info-features">
              <div class="feature">
                <div class="feature-icon">✓</div>
                <span>24시간 실시간 CCTV 모니터링</span>
              </div>
              <div class="feature">
                <div class="feature-icon">✓</div>
                <span>스마트폰으로 언제든 출입 관리</span>
              </div>
              <div class="feature">
                <div class="feature-icon">✓</div>
                <span>온습도 자동 조절 시스템</span>
              </div>
              <div class="feature">
                <div class="feature-icon">✓</div>
                <span>화재 및 도난 종합 보험 가입</span>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </th:block>

  <!-- 페이지 전용 JS -->
  <th:block layout:fragment="extra-js">
    <!-- 페이지별 스크립트: 타입/카피 문구/소셜 버튼 등 -->
    <script th:src="@{/js/login.js}" th:inline="javascript"></script>

    <!-- 인라인이 필요하면 아래처럼 사용 가능
    <script th:inline="javascript">
      // 예시: 회원 유형 토글 → 우측 문구 업데이트
      // document.querySelectorAll('.user-type-btn').forEach((btn) => { ... });
    </script>
    -->
  </th:block>
</html>
